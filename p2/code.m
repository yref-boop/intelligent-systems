ann = feedforwardnet([8]);
ann.divideParam.trainRatio = 0.6;
ann.divideParam.valRatio = 0.2;
ann.divideParam.testRatio = 0.2;
[ann, tr] = train(rna, inputs, outputs);
inputsTest =  inputs(:,tr.testInd);
targetTest = outputs(:,tr.testInd);
outputsTest = sim(rna, inputsTest);
errorTest = mse(outputsTest - targetTest);

% training of single layer anns (up to 50)

meanError = [];
stdError = [];

for k=1:50,
	
	trainError = [];
	validationError = [];
	testError = [];

	for i=1:50,
		ann = feedforwardnet([k]);
		ann.trainParam.showWindow = false;
		[ann tr] = train(ann, inputs, outputs);
		trainError(end+1)		= tr.best_perf;
		validationError(end+1)	= tr.best_vperf;
		testError(end+1)		= tr.best_tperf;
	end;

	meanError(end+1) 	= mean(testError);
	stdError(end+1)		= std(testError);
	fprintf('%i', k);
end;

% error:
% 20.8199	19.3029	15.5077	13.1628	11.3346	10.9953	9.3836	8.6422	8.7857	8.7394	8.1096	7.8269	7.8733	6.3893	8.9939	7.6477	7.0636	6.3244	7.5068	8.2467	8.6663	7.0805	8.1518	6.7596	6.1435	8.0765	7.3171	6.5393	6.3159	6.1495	7.4956	5.6075	9.1292	6.5956	7.8659	6.0912	5.9082	5.3894	7.6022	5.9134	6.9610	6.1022	9.7585	5.6967	6.1550	7.4696	5.6818	8.6923	6.4403	6.3924

% std:
% 7.4470	5.7222	3.2590	3.0885	3.6866	3.3077	3.4221	2.9887	3.8178	3.1613	3.0739	5.0324	3.4641	3.0486	8.0231	10.0376	3.2616	2.6490	12.5732	10.2525	12.5697	3.2536	15.6413	3.0939	2.8702	17.4229	9.5948	8.5214	2.5238	2.5877	11.0222	2.2741	25.2345	4.3793	17.6937	2.1801	2.0872	1.5989	11.4802	2.3265	7.3980	1.8010	22.1288	1.6006	2.6430	8.5767	2.2512	13.1523	4.3514	3.4736

% training of double layer anns (from [1 1] to [10 10])

meanError2 = [];
stdError2 = [];

for j=1:20,
	for k=1:20,
		trainError = [];
		validationError = [];
		testError = [];
		for i = 1:15,
			ann = feedforwardnet([k j]);
			ann.trainParam.showWindow = false;
			[ann tr] = train(ann, inputs, outputs);
			trainError(end+1)		= tr.best_perf;
			validationError(end+1)	= tr.best_vperf;
			testError(end+1)		= tr.best_tperf;
		end;
		meanError2(end+1) 	= mean(testError);
		stdError2(end+1)	= std(testError);
		fprintf('%i',j);
		fprintf('%i\n',k);
	end;
end;

% mean error (j, k):
% 33.8570	19.1976	25.4259	22.7258	22.5062	21.9650	24.3802	24.0484	24.2545	27.7393	23.5770	21.6784	17.4187	18.4666	18.1660	16.2942	17.8357	15.2928	14.9760	14.8066	22.7405	16.9992	13.9521	17.9852	12.1028	11.6503	12.3044	10.4472	11.5713	10.3696	34.1093	21.4858	18.3623	13.7806	11.3583	9.4713	11.6803	8.0713	8.3066	9.1245	25.9568	14.9803	11.9190	15.0315	14.4994	7.2343	7.5390	8.2051	8.1995	6.7318	29.8199	16.1029	10.9578	14.6773	8.2189	8.8353	7.4097	8.7251	6.7495	5.2722	22.5772	16.1133	7.8933	10.3626	6.7165	9.3936	9.8406	10.1631	6.3402	7.3467	21.1914	13.1374	14.0704	19.1949	7.9871	9.2258	11.6994	15.4633	5.8901	6.7865	21.2344	17.5468	11.6455	16.6804	11.0987	14.1900	12.4100	5.3336	8.3797	10.1820	17.1301	15.8976	17.7210	15.3633	11.0306	12.3549	7.0099	12.3768	3.5593	5.0597

% std error (j, k):
% 14.7966	3.9415	8.1298	5.9516	7.0281	6.6911	7.7008	6.3349	11.7368	12.3278	12.0174	8.6343	4.5127	7.2303	8.1751	3.1087	8.0034	4.1817	4.7894	4.8051	12.3338	7.9272	6.4218	11.1682	7.0288	4.1571	4.8972	4.5417	6.0038	6.7661	13.8603	13.7377	11.6863	9.5243	8.3277	2.5847	9.0250	2.9336	3.9151	5.3459	14.8002	6.6736	8.5108	12.2012	9.0245	3.5375	3.3744	8.1085	3.5369	2.8144	17.3637	13.7836	7.7643	15.3189	3.8028	5.2727	4.1238	8.5056	4.3289	2.2004	16.6509	14.4435	5.3767	7.7286	3.0161	9.4496	10.3257	9.8082	3.5723	7.5159	14.5556	11.6418	9.1788	15.7505	4.5175	7.8235	11.6125	15.2742	3.2184	6.5748	15.0887	14.6247	12.9057	15.9710	10.7145	14.2156	12.8497	2.8021	8.7681	11.5311	11.4339	16.9030	15.8503	14.7497	10.8725	9.7316	4.8327	13.6172	0.8847	3.7038

% mean error (k, j):
% 29.4882	21.8016	26.4363	30.3701	21.0378	17.7654	25.4223	21.9801	24.4503	31.9781	22.2003	21.7141	17.1949	18.4967	18.9813	20.2716	13.5872	16.4407	15.4008	17.4938	24.0252	19.9655	14.0758	15.0293	16.3465	19.0745	13.7891	12.1322	15.7460	16.8313	22.5127	17.4760	13.2824	9.8615	18.0030	10.1007	9.6212	10.0649	9.3013	11.0884	25.7523	14.2913	13.5696	13.3732	7.7408	9.9606	12.8902	12.4735	8.8708	15.1314	27.1405	16.5435	11.0717	9.6037	11.1904	6.6190	10.0905	9.0895	7.7309	15.8291	23.6952	15.2954	10.0301	9.8973	7.6332	7.5206	6.8565	8.9200	11.8912	15.5365	21.9178	15.3004	11.1482	9.3742	7.0570	6.0000	7.3680	9.4092	7.7808	6.2528	24.0369	14.6883	10.2741	8.3379	6.0084	12.1289	10.8468	7.1230	6.8913	9.7688	26.2428	13.2136	10.0245	7.8040	8.4394	5.4265	8.7251	4.7906	9.0654	14.0619

% std error (k, j):
% 13.7662	9.9068	16.3313	16.2127	14.2383	12.8135	16.0144	16.3039	14.8635	17.0284	7.4552	7.4443	8.4442	12.8563	12.0377	13.7343	11.8344	14.8172	12.7051	16.2628	8.1042	11.0470	9.7086	6.0406	14.6280	14.3770	10.0991	13.5438	11.6356	15.4956	8.9646	3.9188	5.2078	3.1779	13.8595	9.4034	5.2494	9.8419	8.8409	9.4020	10.3062	6.3313	6.2387	6.9269	2.4413	10.1001	13.8509	15.2876	11.5895	14.1478	9.7345	7.2169	4.1746	3.6824	11.1435	3.5961	7.1915	9.0851	5.0174	16.0879	7.6667	3.8605	3.5746	4.4793	5.2417	3.6954	5.7992	10.2419	13.9258	18.3144	6.3629	3.6478	4.0515	4.6868	3.8657	2.8089	9.9136	10.6213	9.6318	4.7288	7.9881	4.0069	4.6853	4.3835	3.1987	13.2805	13.2657	6.2990	10.2232	11.2286	9.4924	4.4147	3.3002	2.7206	5.3992	3.2894	9.0854	2.5375	12.2231	14.8969

